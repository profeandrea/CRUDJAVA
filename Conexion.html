<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Conexion.java</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<style type="text/css">
<!--
body {color: #000000; background-color: #ffffff; font-family: monospace; font-weight: bold}
pre {color: #000000; background-color: #ffffff; font-family: monospace; font-weight: bold}
table {color: #404040; background-color: #e9e8e2; font-family: monospace; font-weight: bold}
.literal {color: #336bdd}
.string {color: #1e9347}
.ST0 {color: #ce54b8; font-family: monospace; font-weight: bold; font-style: italic}
.comment {color: #990099}
.ST1 {font-family: monospace; font-weight: bold; font-style: italic}
-->
</style>
</head>
<body>
<table width="100%"><tr><td align="center">C:\Users\MINEDUCYT\Documents\NetBeansProjects\ProyectoJDBC\src\logica\Conexion.java</td></tr></table>
<pre>
 1 <span class="literal">package</span> logica;
 2 
 3 <span class="literal">import</span> java.util.*;
 4 <span class="literal">import</span> java.sql.Connection;
 5 <span class="literal">import</span> java.sql.DriverManager;
 6 <span class="literal">import</span> java.sql.SQLException;
 7 
 8 <span class="literal">public</span> <span class="literal">class</span> Conexion {
 9 
10     <span class="literal">private</span> <span class="literal">static</span> String <span class="ST0">usuario</span> = <span class="string">&quot;</span><span class="string">root</span><span class="string">&quot;</span>;
11     <span class="literal">private</span> <span class="literal">static</span> String <span class="ST0">contra</span> = <span class="string">&quot;&quot;</span>;
12     <span class="literal">private</span> <span class="literal">static</span> String <span class="ST0">db</span> = <span class="string">&quot;</span><span class="string">proyecto_cursos</span><span class="string">&quot;</span>;
13     <span class="literal">private</span> <span class="literal">static</span> String <span class="ST0">url</span> = <span class="string">&quot;</span><span class="string">jdbc:mariadb://localhost/</span><span class="string">&quot;</span> + <span class="ST0">db</span>;
14     <span class="literal">private</span> <span class="literal">static</span> Connection <span class="ST0">conexion</span> = <span class="literal">null</span>;
15 
16     <span class="literal">public</span> <span class="literal">static</span> Connection <span class="ST1">getConnection</span>() {
17         <span class="literal">try</span> {
18             <span class="comment">//Registrar Driver</span>
19             Class.<span class="ST1">forName</span>(<span class="string">&quot;</span><span class="string">org.mariadb.jdbc.Driver</span><span class="string">&quot;</span>);
20             <span class="comment">//Conectamos</span>
21             <span class="ST0">conexion</span> = DriverManager.<span class="ST1">getConnection</span>(<span class="ST0">url</span>, <span class="ST0">u</span><span class="ST0">suario</span>, <span class="ST0">c</span><span class="ST0">ontra</span>);
22             <span class="literal">if</span> (<span class="ST0">conexion</span> != <span class="literal">null</span>) {
23                 System.<span class="ST0">out</span>.println(<span class="string">&quot;</span><span class="string">Conexion OK</span><span class="string">&quot;</span>);
24             }
25         } <span class="literal">catch</span> (SQLException e) {
26             System.<span class="ST0">out</span>.println(<span class="string">&quot;</span><span class="string">Error al conectar </span><span class="string">&quot;</span> + e.getMessage());
27         } <span class="literal">catch</span> (Exception e) {
28             System.<span class="ST0">out</span>.println(<span class="string">&quot;</span><span class="string">Error al registrar driver: </span><span class="string">&quot;</span> + e.getMessage());
29         }
30         <span class="comment">//retornamos conexion</span>
31         <span class="literal">return</span> <span class="ST0">conexion</span>;
32     }
33 
34     <span class="literal">public</span> <span class="literal">static</span> <span class="literal">void</span> <span class="ST1">closeConnection</span>(Connection c) {
35         <span class="literal">try</span> {
36             <span class="literal">if</span> (c != <span class="literal">null</span>) {
37                 c.close();
38             }
39             System.<span class="ST0">out</span>.println(<span class="string">&quot;</span><span class="string">Conexion cerrada</span><span class="string">&quot;</span>);
40         } <span class="literal">catch</span> (SQLException e) {
41             System.<span class="ST0">out</span>.println(<span class="string">&quot;</span><span class="string">Error al desconectar: </span><span class="string">&quot;</span> + e.getMessage());
42         }
43     }
44 
45 }
46 
</pre></body>
</html>
